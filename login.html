<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Join Pazion</title>

    <!-- Font Icon -->
    <link rel="stylesheet" href="fonts/material-icon/css/material-design-iconic-font.min.css">
    <link rel="stylesheet" href="css/login-style.css">


</head>

<body>

    <div class="main">

        <div class="container">
            <div class="sign-up-content">
                <form method="POST" class="signup-form">
                    <h2><span>P</span>azion<h2>
                            <h2 class="form-title">Login to your account</h2>

                            <input type="email" name="email" id="email" placeholder="email" />
                            <input type="password" name="pass" id="password" placeholder="enter password" />
                            <div  name="submit" id="signInBtn" class="submit"  >Login</div>

                </form>

                <label for="signup">Don't have an account?</label>

                <a href="signup.html" class="loginhere-link" id="signup"> create account</a>
            </div>
        </div>

    </div>

    <script src="vendor/jquery/jquery.min.js"></script>


    <script type="module">
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.6.5/firebase-auth.js";
        import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/9.6.5/firebase-database.js";
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.5/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.5/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDJ9ptySym5DgJT9wnKSbYGuZ3k9av7UsA",
            authDomain: "pazion-d1b6c.firebaseapp.com",
            projectId: "pazion-d1b6c",
            storageBucket: "pazion-d1b6c.appspot.com",
            messagingSenderId: "259375163869",
            appId: "1:259375163869:web:b4627353698136bd292e34",
            measurementId: "G-KKL7LHF0B5"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);

        const auth = getAuth();
        const database = getDatabase();

        document.getElementById('signInBtn').addEventListener('click', function () {

            var email = document.getElementById('email').value;
            var password = document.getElementById('password').value;
          
            if (email.length < 3) {
                alert('short first name')
                return;
            }
            if (password.length < 8) {
                alert('short last name')
                return;
            }
          
            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    const user = userCredential.user;
                   
                    window.location.href = 'index.html';
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    alert(errorMessage)
                });
        });

    </script>
   
</body>

</html>